import{i as R}from"./lifecycle.jSOWAw35.js";import{c as y,l as D,a as I,u as U,b as k,h as j,N as B,g as C,d as K,e as Y,p as q,P as G,f as u,i as H,s as E,j as z,D as F,k as J,m as V,n as Q,o as W,S as X,L as Z,q as A,r as $,t as ee,v as te,w as re,x as ne,y as N,z as x,A as w,B as ae}from"./render.DVHZwRIa.js";function ie(e){y===null&&D(),I&&y.l!==null?se(y).m.push(e):U(()=>{const t=k(e);if(typeof t=="function")return t})}function se(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const oe=Symbol("is custom element"),fe=Symbol("is html");function O(e,t,r,o){var n=le(e);j&&(n[t]=e.getAttribute(t),e.nodeName==="LINK")||n[t]!==(n[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&ue(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function le(e){return e.__attributes??={[oe]:e.nodeName.includes("-"),[fe]:e.namespaceURI===B}}var M=new Map;function ue(e){var t=e.getAttribute("is")||e.nodeName,r=M.get(t);if(r)return r;M.set(t,r=[]);for(var o,n=e,f=Element.prototype;f!==n;){o=K(n);for(var i in o)o[i].set&&r.push(i);n=C(n)}return r}let h=!1;function de(e){var t=h;try{return h=!1,[e(),h]}finally{h=t}}function T(e,t,r,o){var n=!I||(r&V)!==0,f=(r&Q)!==0,i=o,g=!0,d=()=>(g&&(g=!1,i=o),i),l;{var c=X in e||Z in e;l=Y(e,t)?.set??(c&&t in e?a=>e[t]=a:void 0)}var _,m=!1;[_,m]=de(()=>e[t]),_===void 0&&o!==void 0&&(_=d(),l&&(n&&q(),l(_)));var s;if(n?s=()=>{var a=e[t];return a===void 0?d():(g=!0,a)}:s=()=>{var a=e[t];return a!==void 0&&(i=void 0),a===void 0?i:a},n&&(r&G)===0)return s;if(l){var p=e.$$legacy;return(function(a,b){return arguments.length>0?((!n||!b||p||m)&&l(b?s():a),a):s()})}var S=!1,v=J(()=>(S=!1,s()));u(v);var L=z;return(function(a,b){if(arguments.length>0){const P=b?u(v):n&&f?H(a):a;return E(v,P),S=!0,i!==void 0&&(i=P),a}return W&&S||(L.f&F)!==0?v.v:u(v)})}var ce=$('<div class="mt-8 p-6 bg-gradient-to-r from-pink-100 to-indigo-100 rounded-2xl shadow-lg border"><div class="flex items-center justify-between mb-3"><h2 class="text-2xl font-bold text-[#2957ba]">🎁 Tu canción de anime del día</h2></div> <p class="text-gray-700 mb-4">Disfrútala mientras se levanta TMO.</p> <div class="flex flex-col sm:flex-row gap-3 items-start sm:items-center"><a target="_blank" rel="noopener noreferrer" class="inline-block px-6 py-3 bg-[#2957ba] hover:bg-indigo-500 text-white font-semibold rounded-full shadow transition"> </a> <a target="_blank" rel="noopener noreferrer" class="text-sm text-[#2957ba] hover:underline">Ver en YouTube 🔗</a></div></div>');function ve(e,t){ne(t,!1);let r=T(t,"initialSongUrl",8,""),o=T(t,"initialSongTitle",8,""),n=T(t,"apiKey",8,""),f=A(r()),i=A(o());ie(()=>{u(f)||g()});async function g(){if(n())try{const s=await fetch("/api/random-song",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:n()})});if(!s.ok)throw new Error("Failed to fetch new song");const p=await s.json();E(f,p.url),E(i,p.title)}catch(s){console.error("Error getting new song:",s)}finally{}}R();var d=ce(),l=N(x(d),4),c=x(l),_=x(c);w(c);var m=N(c,2);w(l),w(d),ee(()=>{O(c,"href",u(f)),ae(_,`▶️ ${u(i)??""}`),O(m,"href",u(f))}),te(e,d),re()}export{ve as default};
